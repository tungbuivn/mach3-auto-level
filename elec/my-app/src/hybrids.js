/* esm.sh - esbuild bundle(hybrids@8.2.1) es2022 production */
var __global$ = globalThis || (typeof window !== "undefined" ? window : self);var zn=Object.defineProperty;var Mt=(e,t)=>{for(var n in t)zn(e,n,{get:t[n],enumerable:!0})};var Rt=new Map;function W(e){let t=Rt.get(e);return t===void 0&&(t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Rt.set(e,t)),t}function _e(e,t,n={}){return e.dispatchEvent(new globalThis.CustomEvent(t,{bubbles:!1,...n}))}function Y(e){return`<${String(e.tagName).toLowerCase()}>`}function q(e,t){e.nodeType===globalThis.Node.ELEMENT_NODE&&(t(e),e.shadowRoot&&q(e.shadowRoot,t));let n=globalThis.document.createTreeWalker(e,globalThis.NodeFilter.SHOW_ELEMENT,null,!1);for(;n.nextNode();){let r=n.currentNode;t(r),r.shadowRoot&&q(r.shadowRoot,t)}}var z=Promise.resolve(),le=new WeakMap,ce=q.name==="walkInShadow";var ae=new Set;function $e(e){ae.size||z.then(Dn),ae.add(e)}function Wt(e){ae.delete(e)}function Dn(){for(let e of ae)try{e()}catch(t){console.error(t)}ae.clear()}var ue=new WeakMap,fe=new Set;function Dt(e){let t=new Set,n=t.values();for(;e;){if(e.resolved=!1,e.deps){for(let r of e.deps)r.contexts.delete(e);e.deps.clear()}if(e.contexts)for(let r of e.contexts)fe.has(r)||(t.add(r),e.contexts.delete(r));e.observe&&$e(e.observe),e=n.next().value}}function I(e,t){let n=ue.get(e);n||(n=new Map,ue.set(e,n));let r=n.get(t);return r||(r={key:t,target:e,value:void 0,lastValue:void 0,resolved:!1,contexts:void 0,deps:void 0,observe:void 0},n.set(t,r)),r}function Ue(e){let t=ue.get(e);return t?[...t.values()]:[]}var j=null;function D(e,t,n){let r=I(e,t);if(j&&(r.contexts||(r.contexts=new Set),j.deps||(j.deps=new Set),r.contexts.add(j),j.deps.add(r)),r.resolved)return r.value;let s=j;try{if(fe.has(r))throw Error(`Circular get invocation is forbidden: '${t}'`);j=r,fe.add(r),r.value=n(e,r.value),r.resolved=!0,j=s,fe.delete(r)}catch(o){throw j=s,fe.delete(r),j&&(j.deps.delete(r),r.contexts.delete(j)),o}return r.value}function Q(e,t,n,r){let s=I(e,t),o=n(e,r,s.value);o!==s.value&&(s.value=o,Dt(s))}function Oe(e,t,n,r){let s=I(e,t);s.observe=()=>{let o=D(e,t,n);o!==s.lastValue&&(r(e,o,s.lastValue),s.lastValue=o)};try{s.observe()}catch(o){console.error(o)}return()=>{Wt(s.observe),s.observe=void 0,s.lastValue=void 0}}var Se=new Set;function In(e){Se.size||setTimeout(()=>{for(let t of Se)if(!t.contexts||t.contexts.size===0){if(t.deps)for(let r of t.deps)r.contexts.delete(t);ue.get(t.target).delete(t.key)}Se.clear()}),Se.add(e)}function It(e,t){Dt(e),t.clearValue&&(e.value=void 0,e.lastValue=void 0),t.deleteEntry&&In(e)}function B(e,t,n={}){let r=I(e,t);It(r,n)}function Ne(e,t={}){let n=ue.get(e);if(n)for(let r of n.values())It(r,t)}function Pe(e,t){return{get:t?n=>{let r=e(n),s=n.shadowRoot||n.attachShadow({mode:"open",delegatesFocus:e.delegatesFocus||!1});return()=>(r(n,s),s)}:n=>{let r=e(n);return()=>(r(n,n),n)},observe(n,r){r()}}}var _t={string:(e,t,n)=>{let r=t?String(t):"";return r?e.setAttribute(n,r):e.removeAttribute(n),r},number:(e,t,n)=>{let r=Number(t);return e.setAttribute(n,r),r},boolean:(e,t,n)=>{let r=!!t;return r?e.setAttribute(n,""):e.removeAttribute(n),r},undefined:(e,t,n)=>{let r=typeof t,s=r!=="undefined"&&_t[r];return s?s(e,t,n):(e.hasAttribute(n)&&e.removeAttribute(n),t)}},_n={string:(e,t)=>e.getAttribute(t),number:(e,t)=>Number(e.getAttribute(t))||0,boolean:(e,t)=>e.hasAttribute(t),undefined:(e,t)=>e.getAttribute(t)};function Ve(e,t){let n=typeof t.value,r=_t[n],s=_n[n];if(!r)throw TypeError(`Invalid default value for '${e}' property - it must be a string, number, boolean or undefined: ${n}`);let o=W(e);return{get:(i,c)=>c===void 0?s(i,o)||t.value:c,set:(i,c)=>r(i,c,o),connect:n!=="undefined"?(i,c,a)=>(!i.hasAttribute(o)&&i[c]===t.value&&(i[c]=r(i,t.value,o)),t.connect&&t.connect(i,c,a)):t.connect,observe:t.observe}}var k=new WeakMap,je=new WeakMap;function Be(e,t){if(t){let o=k.get(t);if(e===o)return t;for(let i of Object.keys(o))i!=="tag"&&delete t.prototype[i]}else t=class extends globalThis.HTMLElement{connectedCallback(){for(let i of t.settable){if(!hasOwnProperty.call(this,i))continue;let c=this[i];delete this[i],this[i]=c}let o=new Set;je.set(this,o),$e(()=>{if(o===je.get(this)){for(let i of t.connects)o.add(i(this));for(let i of t.observers)o.add(i(this))}})}disconnectedCallback(){let o=je.get(this);for(let i of o)i&&i();je.delete(this),Ne(this)}};k.set(t,Object.freeze(e));let n=new Set,r=new Set,s=new Set;for(let o of Object.keys(e)){if(o==="tag")continue;let i=e[o],c=typeof i;if(c==="function")o==="render"?i=Pe(i,!0):o==="content"?i=Pe(i):i={get:i};else if(c!=="object"||i===null)i={value:i};else if(i.set){if(hasOwnProperty.call(i,"value"))throw TypeError(`Invalid property descriptor for '${o}' property - it must not have 'value' and 'set' properties at the same time.`);let a=W(o),p=i.get||((u,l)=>l);i.get=(u,l)=>(l===void 0&&(l=i.set(u,u.getAttribute(a)||l)),p(u,l))}if(hasOwnProperty.call(i,"value"))i=Ve(o,i);else if(!i.get)throw TypeError(`Invalid descriptor for '${o}' property - it must contain 'value' or 'get' option`);i.set&&s.add(o),Object.defineProperty(t.prototype,o,{get:function(){return D(this,o,i.get)},set:i.set&&function(p){Q(this,o,i.set,p)},enumerable:!0,configurable:!0}),i.connect&&n.add(a=>i.connect(a,o,()=>{B(a,o)})),i.observe&&r.add(a=>Oe(a,o,i.get,i.observe))}return t.connects=n,t.observers=r,t.settable=s,t}var de=new Map;function Un(e){de.size||z.then(()=>{q(globalThis.document.body,t=>{if(de.has(t.constructor)){let n=de.get(t.constructor),r=k.get(t.constructor);t.disconnectedCallback();for(let s of Object.keys(r)){let o=typeof r[s],i=o!=="object"&&o!=="function"&&r[s]!==n[s];i&&t.removeAttribute(W(s)),B(t,s,{clearValue:i})}t.connectedCallback()}}),de.clear()}),de.set(e,k.get(e))}function Ut(e){if(!e.tag)throw TypeError("Error while defining hybrids: 'tag' property with dashed tag name is required");let t=globalThis.customElements.get(e.tag);if(t){if(k.get(t))return Un(t),Be(e,t),e;throw TypeError(`Custom element with '${e.tag}' tag name already defined outside of the hybrids context`)}return globalThis.customElements.define(e.tag,Be(e)),e}function Kn(e,{root:t="",prefix:n}={}){for(let r of Object.keys(e)){let s=e[r];if(!s.tag){let o=W([].concat(t).reduce((i,c)=>i.replace(c,""),r).replace(/^[./]+/,"").replace(/\//g,"-").replace(/\.[a-zA-Z]+$/,""));s.tag=n?`${n}-${o}`:o}Ut(s)}return e}var Ge=Object.freeze(Object.assign(Ut,{compile:e=>Be(e),from:Kn}));var ke=new WeakMap,Kt=new WeakMap;function Vt(e,t){let n=Kt.get(e);if(n===t)return;let r=Ge.compile(t);Kt.set(e,t),ke.has(e)&&ke.get(e)(),ke.set(e,()=>{r.prototype.disconnectedCallback.call(e);for(let[o]of s)delete e[o];ke.delete(e)});let s=Object.entries(Object.getOwnPropertyDescriptors(r.prototype));r.prototype.connectedCallback.call(e);for(let[o,i]of s)if(!(o==="constructor"||o==="connectedCallback"||o==="disconnectedCallback")&&(Object.defineProperty(e,o,{...i,configurable:!0}),n)){let c=typeof t[o],a=c!=="object"&&c!=="function"&&t[o]!==n[o];a&&e.removeAttribute(W(o)),B(e,o,{clearValue:a})}}function Vn(e,t){let n=e.parentElement||e.parentNode.host;for(;n;){let r=k.get(n.constructor);if(r&&t(r,e))return n;n=n.parentElement||n.parentNode&&n.parentNode.host}return n||null}function Bt(e){let t=typeof e=="function"?e:n=>n===e;return{get:n=>Vn(n,t),connect(n,r,s){return s}}}function Xe(e,t,n,r=[],s=e){for(let o of Array.from(e.children)){let i=k.get(o.constructor);i&&t(i,s)?(r.push(o),n.deep&&n.nested&&Xe(o,t,n,r,s)):n.deep&&Xe(o,t,n,r,s)}return r}function Gt(e,t={deep:!1,nested:!1}){let n=typeof e=="function"?e:r=>r===e;return{get:r=>Xe(r,n,t),connect(r,s,o){let i=new globalThis.MutationObserver(o);return i.observe(r,{childList:!0,subtree:!!t.deep}),()=>{i.disconnect()}}}}var nt=Symbol("store.connect"),$=new WeakMap,Re=new WeakMap,Yt=new WeakSet;function rt(e,t,n){if(n&&($.set(n,null),Re.set(n,t)),$.set(t,e),e.storage.observe){let r=t&&e.isInstance(t)?t:null,s=n&&e.isInstance(n)?n:null;r!==s&&e.storage.observe(r,s)}return t}function Bn(e,t){return Object.keys(e).every(n=>e[n]===t[n])}function Gn(e,t,n){return rt(e,t,n),e.invalidate&&(!n||ye(t)||!e.isInstance(n)||!Bn(t,n))&&e.invalidate(),t}function G(e,t,n,r=!0){return Q(e,t,r?Gn:rt,n),n}var Le;function L(){return Le||(Le=Date.now(),z.then(()=>{Le=void 0})),Le}var Ce=new WeakMap;function Je(e){let t=Ce.get(e);return t||(t=L(),Ce.set(e,t)),t}function He(e){return Ce.set(e,L()),e}function Xt(e){return Ce.set(e,1),e}function Ze(e){return globalThis.btoa(Array.from(e).reduce((t,n)=>Math.imul(31,t)+n.charCodeAt(0)|0,0))}var Fe="hybrids:store:cache",qe={},Ye;function Xn(e,t){let n=`${Fe}:${Ze(JSON.stringify(e.model))}`;return qe[n]=L()+t,Ye||(Ye=Promise.resolve().then(()=>{let r=JSON.parse(globalThis.localStorage.getItem(Fe))||{},s=L();for(let o of Object.keys(r))!qe[o]&&r[o]<s&&(globalThis.localStorage.removeItem(o),delete r[o]);globalThis.localStorage.setItem(Fe,JSON.stringify({...r,...qe})),Ye=null})),n}var Jn=/^\{.+\}$/;function Zt(e,t){typeof t=="function"&&(t={get:t});let n={cache:!0,loose:!1,...t};if(n.observe){let r=n.observe;if(typeof r!="function")throw TypeError(`Storage 'observe' property must be a function: ${typeof n.observe}`);n.observe=(s,o)=>{try{let i=o?o.id:s.id;if(Jn.test(i))try{i=JSON.parse(i)}catch{}r(i,s,o)}catch(i){console.error(i)}}}if(n.cache===!1||n.cache===0)n.validate=r=>!r||Je(r)===L();else if(typeof n.cache=="number")n.validate=r=>!r||Je(r)+n.cache>L();else{if(n.cache!==!0)throw TypeError(`Storage 'cache' property must be a boolean or number: ${typeof n.cache}`);n.validate=r=>Je(r)!==1}if(n.get||(n.get=r=>{throw me(he(r))}),n.offline){let r=n.offline===!0,s=r?1e3*60*60*24*30:n.offline,o=Xn(e,s);try{let i=JSON.parse(globalThis.localStorage.getItem(o))||{},c;n.offline=Object.freeze({key:o,threshold:s,get:r?a=>hasOwnProperty.call(i,a)?JSON.parse(i[a][1]):null:a=>{if(hasOwnProperty.call(i,a)){let p=i[a];return p[0]+s<L()?(delete i[a],null):JSON.parse(p[1])}return null},set(a,p){return p?i[a]=[L(),JSON.stringify(p,function(l,f){if(f===this[""])return f;if(f&&typeof f=="object"){let y=$.get(f);if(y===e&&f.id===a)return String(f);if(y&&y.storage.offline)return y.list?f.map(d=>(Ae.get(y.model).storage.offline.set(d.id,d),`${d}`)):(y.storage.offline.set(f.id,f),`${f}`)}return f})]:delete i[a],c||(c=Promise.resolve().then(()=>{let u=L();for(let l of Object.keys(i))i[l][0]+s<u&&delete i[l];globalThis.localStorage.setItem(o,JSON.stringify(i)),c=null})),p}})}catch(i){console.error(i),n.offline=!1}}return Object.freeze(n)}function Hn(e){return{get:e.enumerable?()=>{}:()=>e.create({}),set:e.enumerable?(t,n)=>n:(t,n)=>n===null?{id:t}:n,list:e.enumerable&&function(n){if(n)throw TypeError("Memory-based model definition does not support id");let r=[];for(let{key:s,value:o}of Ue(e))s!==e&&o&&!ye(o)&&r.push(s);return r},loose:!0}}function U(e,t){return Array.isArray(e)?er(e[0],t):tn(e,t)}function Jt(e,t){switch(e){case"string":return n=>n!=null?String(n):"";case"number":return Number;case"boolean":return Boolean;default:throw TypeError(`The value of the '${t}' must be a string, number or boolean: ${e}`)}}var Fn=(e,t,n)=>t.state==="error"?{state:"error",error:t.value}:(t.error=!!n&&n.error,t);function _(e,t,n=e){return Q(e,"state",Fn,{state:t,value:n}),e}var qn=(e,t={state:"ready",value:e,error:!1})=>t;function be(e){return D(e,"state",qn)}function Qt(e){return e?(e^Math.random()*16>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,Qt)}function Yn(e){if(typeof e!="function")throw TypeError(`The first argument must be a function: ${typeof e}`);return Yt.add(e),e}var en=new WeakMap;function Zn(e,t,n){let r=n.model[t];Yt.has(r)&&(r=r());let s=typeof r;if(r instanceof String||r instanceof Number||r instanceof Boolean){let o=en.get(r);if(!o)throw TypeError(A(e,`You must use primitive ${typeof r.valueOf()} value for '${t}' property of the provided model definition`));r=r.valueOf(),s=typeof r,n.checks.set(t,o)}return{defaultValue:r,type:s}}function A(e,t){return`${t}

Model = ${JSON.stringify(e,null,2)}
`}var Qn=Promise.resolve(),Ae=new WeakMap;function tn(e,t){if(typeof e!="object"||e===null)throw TypeError(`Model definition must be an object: ${typeof e}`);let n=Ae.get(e);if(n&&!n.enumerable){if(t&&!n.nested)throw TypeError(A(e,"Provided model definition for nested object already used as a root definition"));if(!t&&n.nested)throw TypeError(A(e,"Nested model definition cannot be used outside of the parent definition"))}if(!n){let r=e[nt];typeof r=="object"&&Object.freeze(r);let s,o=hasOwnProperty.call(e,"id"),i=!!r,c=new Map,a={};Object.defineProperty(a,"toString",{value:function(){return this.id}});let p=Object.create(a);n={model:e,external:i,enumerable:o,nested:!o&&!i&&t,placeholder:l=>{let f=Object.create(p);return $.set(f,n),o&&(f.id=l),Object.freeze(f)},isInstance:l=>Object.getPrototypeOf(l)!==p,invalidate:()=>{s||(s=Qn.then(()=>{B(n,n,{clearValue:!0}),s=null}))},checks:c},Ae.set(e,n),n.storage=Zt(n,r||Hn(n));let u=Object.keys(Object.freeze(e)).map(l=>{if(l!=="id"&&Object.defineProperty(p,l,{get(){throw Error(`Model instance in ${be(this).state} state - use store.pending(), store.error(), or store.ready() guards`)},enumerable:!0}),l==="id"){if(e[l]!==!0)throw TypeError("The 'id' property in the model definition must be set to 'true' or not be defined");return(h,d,b)=>{let g;hasOwnProperty.call(d,"id")?g=he(d.id):b?g=b.id:g=Qt(),Object.defineProperty(h,"id",{value:g,enumerable:!0})}}let{defaultValue:f,type:y}=Zn(e,l,n);switch(y){case"function":return h=>{Object.defineProperty(h,l,{get(){return D(this,l,()=>f(this))}})};case"object":{if(f===null)throw TypeError(`The value for the '${l}' must be an object instance: ${f}`);if(Array.isArray(f)){let b=typeof f[0];if(b!=="object"){if(b==="function"&&![String,Number,Boolean].includes(f[0]))throw TypeError(`The array item for the '${l}' must be one of the primitive types constructor: String, Number, or Boolean`);let T=b==="function"?f[0]:Jt(b,l),m=b==="function"?[]:Object.freeze(f.map(T));return(w,E,x)=>{if(hasOwnProperty.call(E,l)){if(!Array.isArray(E[l]))throw TypeError(`The value for '${l}' property must be an array: ${typeof E[l]}`);w[l]=Object.freeze(E[l].map(T))}else x&&hasOwnProperty.call(x,l)?w[l]=x[l]:w[l]=m}}let g=U(f,!0);if(g.external&&n.storage.offline&&g.storage.offline&&g.storage.offline.threshold<n.storage.offline.threshold)throw Error(`External nested model for '${l}' property has lower offline threshold (${g.storage.offline.threshold} ms) than the parent definition (${n.storage.offline.threshold} ms)`);if(g.enumerable&&f[1]){let T=f[1];if(typeof T!="object")throw TypeError(`Options for '${l}' array property must be an object instance: ${typeof T}`);T.loose&&(n.contexts=n.contexts||new Set,n.contexts.add(U(f[0])))}return(T,m,w)=>{if(hasOwnProperty.call(m,l)){if(!Array.isArray(m[l]))throw TypeError(`The value for '${l}' property must be an array: ${typeof m[l]}`);T[l]=g.create(m[l],!0)}else T[l]=w&&w[l]||!g.enumerable&&g.create(f)||[]}}let d=U(f,!0);if(d.enumerable||d.external){if(n.storage.offline&&d.storage.offline&&d.storage.offline.threshold<n.storage.offline.threshold)throw Error(`External nested model for '${l}' property has lower offline threshold (${d.storage.offline.threshold} ms) than the parent definition (${n.storage.offline.threshold} ms)`);return(b,g,T)=>{let m;if(hasOwnProperty.call(g,l)){let w=g[l];if(typeof w!="object"||w===null)w!=null&&(m={id:w});else{let E=$.get(w);if(E){if(E.model!==f)throw TypeError("Model instance must match the definition");m=w}else{let x=I(d,g[l].id).value;m=d.create(w,x&&d.isInstance(x)?x:void 0),G(d,m.id,m)}}}else m=T&&T[l];if(m){let w=m.id;Object.defineProperty(b,l,{get(){return D(this,l,()=>C(f,w))},enumerable:!0})}else b[l]=void 0}}return(b,g,T)=>{hasOwnProperty.call(g,l)?b[l]=g[l]===null?d.create({}):d.create(g[l],T&&T[l]):b[l]=T?T[l]:d.create({})}}default:{let h=Jt(y,l);return(d,b,g)=>{hasOwnProperty.call(b,l)?d[l]=h(b[l]):g&&hasOwnProperty.call(g,l)?d[l]=g[l]:d[l]=f}}}});n.create=function(f,y){if(f===null)return null;if(typeof f!="object")throw TypeError(`Model values must be an object instance: ${f}`);let h=Object.create(a);for(let d of u)d(h,f,y);return $.set(h,n),le.set(h,ot),Object.freeze(h)},Object.freeze(p),Object.freeze(n)}return n}var Ht=Object.getOwnPropertyNames(Array.prototype).reduce((e,t)=>(t==="length"||t==="constructor"||Object.defineProperty(e,t,{get(){throw Error(`Model list instance in ${be(this).state} state - use store.pending(), store.error(), or store.ready() guards`)}}),e),[]),Qe=new WeakMap;function er(e,t){let n=Qe.get(e);if(n&&!n.enumerable&&!t&&n.nested)throw TypeError(A(e,"Nested model definition cannot be used outside of the parent definition"));if(!n){let r=tn(e),s=new Set;if(r.storage.loose&&s.add(r),!t){if(!r.enumerable)throw TypeError(A(e,"Provided model definition does not support listing (it must be enumerable - set `id` property to `true`)"));if(!r.storage.list)throw TypeError(A(e,"Provided model definition storage does not support `list` action"))}t=!r.enumerable&&!r.external&&t,n={list:!0,nested:t,model:e,contexts:s,enumerable:r.enumerable,external:r.external,placeholder:()=>{let o=Object.create(Ht);return $.set(o,n),Object.freeze(o)},isInstance:o=>Object.getPrototypeOf(o)!==Ht,create(o,i=!1){if(o===null)return null;let c=[];for(let a of o){let p=a;if(typeof a=="object"&&a!==null){p=a.id;let u=$.get(a),l=a;if(u){if(u.model!==e)throw TypeError("Model instance must match the definition")}else{let f=r.enumerable&&I(r,a.id).value;l=r.create(a,f&&r.isInstance(f)?f:void 0),r.enumerable&&(p=l.id,G(r,p,l,i))}r.enumerable||c.push(l)}else if(!r.enumerable)throw TypeError(`Model instance must be an object: ${typeof a}`);if(r.enumerable){let u=c.length;Object.defineProperty(c,u,{get(){return D(this,u,()=>C(e,p))},enumerable:!0})}}return Object.defineProperties(c,{id:{value:o.id},toString:{value:function(){return this.id}}}),$.set(c,n),le.set(c,ot),Object.freeze(c)}},n.storage=Object.freeze({...Zt(n,{cache:r.storage.cache,get:!t&&(o=>r.storage.list(o))}),offline:r.storage.offline&&{threshold:r.storage.offline.threshold,get:o=>{let i=he(o),c=r.storage.offline.get(Ze(String(i)));return c?(c=c.map(a=>r.storage.offline.get(a)),c.id=i,c):null},set:(o,i)=>{r.storage.offline.set(Ze(String(he(o))),i.map(c=>(r.storage.offline.set(c.id,c),c.id)))}}}),Qe.set(e,Object.freeze(n))}return n}function tr(e,t){return t||L()}function he(e){switch(typeof e){case"object":{let t={};for(let n of Object.keys(e).sort()){if(typeof e[n]=="object"&&e[n]!==null)throw TypeError(`You must use primitive value for '${n}' key: ${typeof e[n]}`);t[n]=e[n]}return JSON.stringify(t)}case"undefined":return;default:return String(e)}}var nn=new WeakSet;function me(e,t){let n=Error(A(e,`Model instance ${t!==void 0?`with '${t}' id `:""}does not exist`));return nn.add(n),n}function Me(e,t,n){return n!==!1&&!nn.has(t)&&console.error(t),_(e,"error",t)}function C(e,t){let n=U(e),r;if(n.enumerable){if(r=he(t),!r&&!n.list&&!ge.get(n))throw TypeError(A(e,`Provided model definition requires non-empty id: "${r}"`))}else if(t!==void 0)throw TypeError(A(e,"Provided model definition does not support id"));let s=n.storage.offline,o=n.storage.validate,i=I(n,r);return i.value&&!o(i.value)&&(i.resolved=!1),D(n,r,(c,a)=>{if(a&&Z(a))return a;let p=!0;if(n.contexts)for(let l of n.contexts)D(l,l,tr)===L()&&(p=!1);if(p&&a&&o(a))return a;let u=()=>a||s&&n.create(s.get(r))||n.placeholder(r);try{let l=n.storage.get(t);if(typeof l!="object"||l===null)throw s&&s.set(r,null),me(e,r);if(l instanceof Promise)return l=l.then(y=>{if(typeof y!="object"||y===null)throw s&&s.set(r,null),me(e,r);y.id!==r&&(y.id=r);let h=n.create(y);return s&&s.set(r,h),G(n,r,He(h))}).catch(y=>G(n,r,Me(u(),y))),_(u(),"pending",l);l.id!==r&&(l.id=r);let f=n.create(l);return s&&Promise.resolve().then(()=>{s.set(r,f)}),rt(n,He(f),a)}catch(l){return He(Me(u(),l))}})}var ge=new WeakMap;function Ft(e){let t=Object.keys(e),n=Error(`Model validation failed (${t.join(", ")}) - read the details from 'errors' property`);return n.errors=e,n}function pe(e,t={}){let n=$.get(e);if(n===null&&(e=Re.get(e),n=$.get(e)),n===null)throw Error("Provided model instance has expired. Haven't you used stale value?");let r=!!n;if(n||(n=U(e)),n.nested)throw A(n.model,TypeError("Setting provided nested model instance is not supported, use the root model instance"));if(n.list)throw TypeError("Listing model definition does not support 'set' method");if(!n.storage.set)throw A(n.model,TypeError("Provided model definition storage does not support 'set' method"));if(!r&&!n.enumerable&&(r=!0,e=C(e)),r){let i=Z(e);if(i)return i.then(c=>pe(c,t))}let s=ge.get(n),o;try{if(n.enumerable&&!r&&(!t||typeof t!="object"))throw TypeError(`Values must be an object instance: ${t}`);if(!s&&t&&hasOwnProperty.call(t,"id"))throw TypeError(`Values must not contain 'id' property: ${t.id}`);let i=n.create(t,r?e:void 0),c=t?Object.keys(t):[],a={},p=r&&s&&ye(e),u=!1;if(i){for(let[f,y]of n.checks.entries()){if(c.indexOf(f)===-1&&(p&&p.errors&&p.errors[f]&&(u=!0,a[f]=p.errors[f]),s&&i[f]==n.model[f]))continue;let h;try{h=y(i[f],f,i)}catch(d){h=d}h!==!0&&h!==void 0&&(u=!0,a[f]=h||!0)}if(u&&!s)throw Ft(a)}o=i?i.id:e.id;let l=Promise.resolve(n.storage.set(r?o:void 0,i,c)).then(f=>{let y=f===i?i:n.create(f);if(r&&y&&o!==y.id)throw TypeError(`Local and storage data must have the same id: '${o}', '${y.id}'`);let h=y?y.id:o;return u&&s&&_(y,"error",Ft(a)),s&&r&&hasOwnProperty.call(f,"id")&&(!i||i.id!==e.id)?h=e.id:n.storage.offline&&n.storage.offline.set(h,y),G(n,h,y||Me(n.placeholder(h),me(n.model,o),!1),!0)}).catch(f=>{throw f=f!==void 0?f:Error("Undefined error"),r&&_(e,"error",f),f});return r&&_(e,"pending",l),l}catch(i){return r&&_(e,"error",i),Promise.reject(i)}}function nr(e,t){if(typeof t!="object")throw TypeError(`Values must be an object instance: ${t}`);let n=$.get(e);if(n===null&&(e=Re.get(e),n=$.get(e)),n===null)throw Error("Provided model instance has expired. Haven't you used stale value?");if(n===void 0){if(!t)throw TypeError("Values must be defined for usage with model definition");n=U(e),e=void 0}else if(t&&hasOwnProperty.call(t,"id"))throw TypeError(`Values must not contain 'id' property: ${t.id}`);if(n.list)throw TypeError("Listing model definition is not supported in sync method");let r=n.create(t,e),s=t?r.id:e.id;return G(n,s,r||Me(n.placeholder(s),me(n.model,s),!1))}function et(e,t=!0){if(typeof e!="object"||e===null)throw TypeError(`The first argument must be a model instance or a model definition: ${e}`);let n=$.get(e);if(n===null)throw Error("Provided model instance has expired. Haven't you used stale value from the outer scope?");if(n){let r=t&&n.storage.offline;r&&r.set(e.id,null),Xt(e),B(n,e.id,{clearValue:t,deleteEntry:!0})}else{if(!Ae.get(e)&&!Qe.get(e[0]))throw Error("Model definition must be used before - passed argument is probably not a model definition");n=U(e);let r=t&&n.storage.offline;for(let s of Ue(n))r&&r.set(s.key,null),s.value&&Xt(s.value);Ne(n,{clearValue:t,deleteEntry:!0})}}function Z(...e){let t=!1,n=e.map(r=>{try{let{state:s,value:o}=be(r);if(s==="pending")return t=!0,o}catch{}return Promise.resolve(r)});return t&&(e.length>1?Promise.all(n):n[0])}function rn(e,t){e=Re.get(e)||e,$.get(e)||(e=C(e,t));let n=Z(e);if(!n){let r=ye(e);return r?Promise.reject(r):Promise.resolve(e)}return n.then(r=>rn(r))}function ye(e,t){if(e===null||typeof e!="object")return!1;let n=be(e);if(t!==void 0){let r=typeof n.error=="object"&&n.error&&n.error.errors;return t===null?!r&&n.error:r[t]}return n.error}function tt(...e){return e.length>0&&e.every(t=>{let n=$.get(t);return!!(n&&n.isInstance(t))})}function qt(e,t){return e={...e,...t},delete e.id,e}function rr(e,t={}){let n=$.get(e);if(!n||!ge.has(n))throw TypeError(`Provided model instance is not a draft: ${e}`);if(Z(e))throw Error("Model draft in pending state");let r=ge.get(n),s;if(I(r,e.id).value){let o=C(r.model,e.id);s=Promise.resolve(Z(o)||o).then(i=>pe(i,qt(e,t)))}else s=pe(r.model,qt(e,t));return s=s.then(o=>(_(e,"ready"),pe(e,o).then(()=>o))).catch(o=>(_(e,"error",o),Promise.reject(o))),_(e,"pending",s),s}function or(e,t){return!!e||`${t} is required`}function sr(e,t=or,n=""){switch(typeof e){case"string":e=new String(e);break;case"number":e=new Number(e);break;case"boolean":e=new Boolean(e);break;default:throw TypeError(`Default value must be a string, number or boolean: ${typeof e}`)}let r;if(t instanceof RegExp)r=s=>t.test(s)||n;else if(typeof t=="function")r=(...s)=>{let o=t(...s);return o!==!0&&o!==void 0&&n||o};else throw TypeError(`The second argument must be a RegExp instance or a function: ${typeof t}`);return en.set(e,r),e}function ir(e){let t=$.get(e),n=Object.freeze(Object.create(e));return $.set(n,t),n}function ot(e,t={}){let n=U(e);if(t.id!==void 0&&typeof t.id!="function"){let s=t.id;t.id=o=>o[s]}if(t.id&&!n.enumerable)throw TypeError("Store factory for singleton model definition does not support 'id' option");let r;if(t.draft){if(n.list)throw TypeError("Draft mode is not supported for listing model definition");r=U({...e,[nt]:{get(s){let o=C(n.model,s);return Z(o)||o},set(s,o){return o===null?{id:s}:o}}}),ge.set(r,n),e=r.model}return!t.id&&n.enumerable&&!n.list?{get(s,o){let c=$.get(o)!==void 0?o.id:o;if(r&&o==null){let a=r.create({},{id:void 0});return G(r,void 0,a,!1),C(e,void 0)}return o?C(e,c):void 0},set:(s,o)=>o,connect:r?(s,o)=>()=>{let i=s[o];i&&i.id&&et(i,!0)}:void 0}:{get:(s,o)=>{let i=$.get(o),c=t.id&&t.id(s)||(i!==void 0?o.id:o);if(r&&!c&&o==null){let p=r.create({});return G(r,void 0,p,!1),C(e,void 0)}if(!n.list&&n.enumerable&&c===void 0)return;let a=C(e,c);if(a!==o&&tt(o)&&!tt(a)){let p=ir(o);return Q(p,"state",()=>be(a)),p}return a},set:!t.id&&n.list||r&&!n.enumerable?(s,o)=>o:void 0,connect:r&&n.enumerable?(s,o)=>()=>{let i=s[o];i&&i.id&&et(i,!0)}:void 0}}var lr=Object.freeze(Object.assign(ot,{connect:nt,get:C,set:pe,sync:nr,clear:et,pending:Z,error:ye,ready:tt,submit:rr,value:sr,resolve:rn,ref:Yn}));var it=Symbol("router.connect"),S=new WeakMap,ft=new WeakMap,X=new WeakMap,ln=new WeakMap,K=null,ut=new Set,cn=!1;function cr(e=!0){cn=!!e}var lt=new WeakMap,an=new WeakMap;function ar(e){let t=globalThis.document.activeElement;an.set(e,K.contains(t)&&t);let n=new Map;for(let r of[globalThis.document.documentElement,globalThis.document.body])n.set(r,{left:r.scrollLeft,top:r.scrollTop});q(e,r=>{(r.scrollLeft||r.scrollTop)&&n.set(r,{left:r.scrollLeft,top:r.scrollTop})}),lt.set(e,n)}function ct(e){if(e.tabIndex===-1){let t=e.style.outline;e.tabIndex=0,e.style.outline="none",e.addEventListener("blur",()=>{e.removeAttribute("tabindex"),e.style.outline=t},{once:!0})}e.focus({preventScroll:!0})}function fr(e){let t=globalThis.document.activeElement;z.then(()=>{ct(an.get(e)||(K.contains(t)?t:K));let n=lt.get(e);if(n){let r=S.get(e),o=globalThis.history.state.find(c=>c.id===r.id),i=o&&o.params.scrollToTop;for(let[c,{left:a,top:p}]of n)c.scrollLeft=i?0:a,c.scrollTop=i?0:p;lt.delete(e)}else for(let r of[globalThis.document.documentElement,globalThis.document.body])r.scrollLeft=0,r.scrollTop=0;setTimeout(()=>{globalThis.history.scrollRestoration="auto"},0)})}function ze(e){return e===!0?1:e||""}var We=["scrollToTop"];function ur(e,t){let[n,r=""]=e.split("?"),s=r?r.split(","):[],o=n.replace(/^\//,"").split("/"),i=o.reduce((c,a)=>{if(a.startsWith(":")){let p=a.slice(1);if(s.includes(p))throw Error(`The '${p}' already used in search params`);if(c.includes(p))throw Error(`The '${p}' already used in pathname`);c.push(p)}return c},[]);return{browserUrl:e,pathnameParams:i,paramsKeys:[...s,...i],url(c,a=!1){let p="";for(let l of o){if(l.startsWith(":")){let f=l.slice(1);if(!hasOwnProperty.call(c,f))throw Error(`The '${f}' parameter must be defined for <${t}>`);l=ze(c[f])}p+=`/${l}`}let u=new URL(p,globalThis.location.origin);for(let l of Object.keys(c))i.includes(l)||a&&(We.includes(l)||!s.includes(l))||u.searchParams.append(l,ze(c[l]));return u},match(c){let a={},p=c.pathname.replace(/^\//,"").split("/");if(p.length!==o.length)return null;for(let u=0;u<p.length;u+=1){let l=p[u],f=o[u];if(f.startsWith(":")){let y=f.slice(1);a[y]=l}else if(l!==f)return null}for(let[u,l]of c.searchParams)a[u]=l;return a}}}function Te(e,t){return e.stack.some(n=>n===t?!0:Te(n,t))}function fn(e){e.browserUrl&&ut.add(e);for(let t of e.stack)fn(t)}function at(e,t,n=null,r=null){return typeof e=="function"&&(e=e()),e=[].concat(e),e.map(s=>{let o=S.get(s);if(o&&Te(o,n))throw Error(`<${o.id}> cannot be in the stack of <${n.id}>, as it is an ancestor in the stack tree`);return pr(s,t,n,r)})}function dr(e,t){let n=Object.values(e).map(r=>ln.get(r)).filter(r=>r);if(n.length){if(n.length>1)throw TypeError(`<${t.id}> must contain at most one nested router, found: ${n.length}`);if(t.dialog)throw TypeError(`Nested routers are not supported in dialogs. Remove the router property definition from <${t.id}>`);if(t.browserUrl)throw TypeError(`A view with nested router must not have the url option. Remove the url option from <${t.id}>`)}return n[0]}function O(e){let t=globalThis.customElements.get(e);return S.get(t)}function pr(e,t,n,r){let s=e.tag,o=O(s);if(o&&o.hybrids!==e&&(o=null),o)o.parent=n,o.nestedParent=r;else{let c=globalThis.customElements.get(s);if(!c||k.get(c)!==e)throw Error(`<${s}> view must be defined by 'define()' function before it can be used in router factory`);let a=null,p={dialog:!1,guard:!1,multiple:!1,replace:!1,...e[it]},{connects:u}=c;p.dialog&&u.add(d=>{let b=m=>{m.key==="Escape"&&(m.stopPropagation(),globalThis.history.go(-1))},g=m=>{!d.contains(m.target)&&m.target!==d&&ct(d)},T=K;return T.addEventListener("focusin",g),T.addEventListener("focusout",g),d.addEventListener("keydown",b),ct(d),()=>{T.removeEventListener("focusin",g),T.removeEventListener("focusout",g),d.removeEventListener("keydown",b)}});let l=[];for(let d of Object.keys(c.prototype))Object.getOwnPropertyDescriptor(c.prototype,d).set&&l.push(d);if(p.url){if(p.dialog)throw Error(`The 'url' option is not supported for dialogs - remove it from <${s}>`);if(typeof p.url!="string")throw TypeError(`The 'url' option in <${s}> must be a string: ${typeof p.url}`);a=ur(p.url,s);for(let d of a.paramsKeys){let b=Object.getOwnPropertyDescriptor(c.prototype,d);if(!b||!b.set)throw Error(`'${d}' parameter from the url is not ${b?"writable":"defined"} in <${s}>`)}}let f=l.filter(d=>!t.params.includes(d)&&!We.includes(d)),y=a?f.filter(d=>!a.pathnameParams.includes(d)):f;u.add(d=>Oe(d,it,b=>{let g={};for(let T of f){let m=ze(b[T]).toString();g[T]=m!==void 0&&b[T]!==e[T]?String(m):void 0}return g},(b,g,T)=>{if(!T)return;let m=globalThis.history.state,w=m[0];for(;w.id!==s&&w.nested;)w=w.nested;g={...w.params,...g};for(let E of y)g[E]===void 0&&delete g[E];globalThis.history.replaceState([o.getEntry(g),...m.slice(1)],"",a?o.url(g,!0):"")}));let h;if(p.guard&&(h=()=>{try{return p.guard()}catch(d){return console.error(d),!1}}),o={id:s,hybrids:e,dialog:p.dialog,multiple:p.multiple,replace:p.replace,guard:h,parent:n,nestedParent:r,nestedRoots:void 0,parentsWithGuards:void 0,stack:[],...a||{url(d){let b=new URL("",globalThis.location.origin);for(let g of Object.keys(d))b.searchParams.append(g,ze(d[g]));return new URL(`${t.url}#@${s}${b.search}`,globalThis.location.origin)},match(d){let b={};for(let[g,T]of d.searchParams)(l.includes(g)||We.includes(g))&&(b[g]=T);return b}},create(){let d=new c;return S.set(d,o),d},getEntry(d={},b){let g={};for(let w of Object.keys(d))l.includes(w)&&(g[w]=d[w]);let T={id:s,params:g,...b},m=o.parentsWithGuards.find(w=>!w.guard());if(m)return m.getEntry(d,{from:T});if(o.guard&&o.guard())return{...o.stack[0].getEntry(d)};if(o.nestedParent)return o.nestedParent.getEntry(d,{nested:T});for(let w of We)hasOwnProperty.call(d,w)&&(T.params[w]=d[w]);return T}},S.set(e,o),S.set(c,o),n&&!n.stack.includes(o)&&n.stack.push(o),p.stack){if(p.dialog)throw Error(`The 'stack' option is not supported for dialogs - remove it from <${s}>`);at(p.stack,t,o,r)}}for(n||fn(o),o.parentsWithGuards=[];n;)n.guard&&o.parentsWithGuards.unshift(n),n=n.parent;let i=dr(e,o);return i&&(o.nestedRoots=at(i.views,{...t,...i},o,o),o.stack=o.stack.concat(o.nestedRoots)),o}function hr(e,t={}){let n=S.get(e);return n?n.url(t):""}function on(e){let t={};for(;e;)Object.assign(t,e.params),e=e.nested;return t}function mr({nested:e=!1,scrollToTop:t=!1}={}){let n=globalThis.history.state;if(!n)return"";if(n.length>1){let o=n[0],i=1,c=n[i];if(e)for(;c.nested;)c=c.nested;else for(;o.id===c.id&&i<n.length-1;)i+=1,c=n[i];let a=on(n[i]);return t?a.scrollToTop=!0:delete a.scrollToTop,O(c.id).url(a)}let r=n[0];if(e)for(;r.nested;)r=r.nested;let s=O(r.id).parent;if(s){for(;s&&s.guard;)s=s.parent;if(s)return s.url(on(n[0]))}return""}function gr(e={}){let t=globalThis.history.state;if(!t)return"";let n=t[0];if(n.from)return O(n.from.id).url({...n.from.params,...e});let r=O(n.id);return r.stack[0]?r.stack[0].url(e):""}function br(e){let t=globalThis.history.state;if(!t)return"";let n=t[0];for(;n.nested;)n=n.nested;return O(n.id).url({...n.params,...e})}function yr(e,{stack:t=!1}={}){let n=globalThis.history.state;return n?(e=[].concat(e),e.some(r=>{let s=S.get(r);if(!s)throw TypeError(`Provided view is not connected to the router: ${r}`);let o=n[0];for(;o;){let i=O(o.id);if(i===s||t&&Te(s,i))return!0;o=o.nested}return!1})):!1}function un(e){let t,[n,r]=e.hash.split("?");if(n&&n.match(/^#@.+-.+/)&&(t=O(n.split("@")[1]),e=new URL(`?${r}`,globalThis.location.origin)),!t){for(let s of ut){let o=s.match(e);if(o)return s.getEntry(o)}return null}return t.getEntry(t.match(e))}function we(e){if(e.defaultPrevented)return;let t;if(e.type==="click"){if(e.ctrlKey||e.metaKey)return;let n=e.composedPath().find(r=>r instanceof globalThis.HTMLAnchorElement);n&&(t=new URL(n.href,globalThis.location.origin))}else t=new URL(e.target.action,globalThis.location.origin);if(t&&t.origin===globalThis.location.origin){let n=un(t);n&&(e.preventDefault(),_e(K,"navigate",{bubbles:!0,detail:{entry:n,url:t}}))}}var st;function wr(e,t){e.preventDefault(),st=t;let n=e.composedPath(),r={type:e.type,ctrlKey:e.ctrlKey,metaKey:e.metaKey,target:e.target,defaultPrevented:!1,preventDefault:()=>{},composedPath:()=>n};return t.then(()=>{t===st&&(we(r),st=null)})}function dn(e,t,n){let r=X.get(e),s=[];for(let[a,p]of t.entries())(a===0||t[a-1].id!==p.id||O(p.id).multiple)&&s.push(p);let o=r.length-s.length;r=s.map((a,p)=>{let u=r[p+o],l=O(a.id),f;if(u){let y=S.get(u);if(l.id!==y.id||p===0&&l.replace)return l.create();f=u}else f=l.create();return f}),X.set(e,r);let i=r[0],c=ft.get(i);for(let[a,p]of Object.entries(t[0].params))a in i&&(i[a]=p);for(let a of n.params)a in i&&(i[a]=e[a]);return c&&c(),r}function Tr(e){let t=[];for(let[s,o]of globalThis.history.state.entries()){let i=0;for(;o;)t[i]=t[i]||[],t[i][s]=o,o=o.nested,i+=1}let n=0,r=0;for(;e;){let s=O(e.id),o=n;for(;o<t[r].length;o+=1){let i=t[r][o];if(s.dialog)return i.id!==e.id?-1:n;if(i.id===e.id)if(s.multiple){if(s.pathnameParams&&s.pathnameParams.every(a=>e.params[a]===i.params[a])||Object.entries(e.params).every(([a,p])=>i.params[a]===p)){n=o;break}}else{n=o;break}let c=O(i.id);if(Te(c,s)){if(s.multiple&&t[r][0].id===e.id){n-=1;break}if(o>0){n=o-1;break}else return c.guard?0:-1}}o===t[r].length&&(n=t[r].length-1),e=e.nested,r+=1}return n}function sn(e,t){let n=globalThis.document.documentElement;if(!e){n.removeAttribute("router-transition");return}let{dialog:r}=S.get(e[0].constructor),s=r&&"dialog"||t.length&&(e.length>t.length&&"forward"||e.length<t.length&&"backward"||e[0]!==t[0]&&"replace")||"";n.setAttribute("router-transition",s)}function Er(e,t,n){function r(){let u=X.get(e),l=dn(e,globalThis.history.state,n);n.transition&&sn(l,u),t();let f=l[0];S.get(f).dialog||fr(f)}function s(u,l,f){let y=globalThis.history.state,h=globalThis.history.state[u],d=u<y.length-1&&y.length>2?1:0;u+=d,h&&l.id===h.id&&(l={...h,...l});let b=g=>{g&&(globalThis.removeEventListener("popstate",b),globalThis.addEventListener("popstate",r));let T=d?"pushState":"replaceState",m=[l,...y.slice(u+(d?0:1))];globalThis.history[T](m,"",f),r()};u?(globalThis.removeEventListener("popstate",r),globalThis.addEventListener("popstate",b),globalThis.history.go(-u)):b()}function o(u){let l=globalThis.history.state,f=u;for(;f.nested;)f=f.nested;let y=O(f.id),h=y.browserUrl?y.url(f.params,!0):n.url,d=Tr(u);if(d>-1)s(d,u,h);else{let b=X.get(e);ar(b[0]),globalThis.history.scrollRestoration="manual",globalThis.history.pushState([u,...l],"",h),r()}}function i(u){o(u.detail.entry)}if(K)throw Error(`An element with root router already connected to the document: <${K.tagName.toLowerCase()}>`);let c;try{c=at(n.views,n),K=e,ft.set(e,r)}catch(u){throw console.error(`Error while connecting router in <${e.tagName.toLowerCase()}>:`),u}let a=globalThis.history.state,p=new URL(globalThis.location.href);if(a){let u=X.get(e),l;for(l=a.length-1;l>=0;l-=1){let f=a[l];for(;f;){let y=O(f.id);if(!y||y.dialog&&u.length===0||!c.includes(y)&&!c.some(h=>Te(h,y)))break;f=f.nested}if(f)break}if(l>-1){let f=a[l+1];s(a.length-l-1,f||c[0].getEntry(a[0].params),n.url)}else{let f=a[0];for(;f.nested;)f=f.nested;let h=O(f.id).getEntry(f.params);o(h)}}else{let u=un(p)||c[0].getEntry();globalThis.history.replaceState([u],"",n.url),r()}return globalThis.addEventListener("popstate",r),e.addEventListener("click",we),e.addEventListener("submit",we),e.addEventListener("navigate",i),()=>{globalThis.removeEventListener("popstate",r),e.removeEventListener("click",we),e.removeEventListener("submit",we),e.removeEventListener("navigate",i),sn(null),ut.clear(),K=null;let u=globalThis.history.state&&globalThis.history.state.length;u>1&&(globalThis.history.go(1-u),globalThis.history.replaceState(a,"",p))}}function vr(e,t,n){let r=S.get(e);function s(){return globalThis.history.state.map(i=>{for(;i;){if(i.id===r.id)return i.nested;i=i.nested}return i}).filter(i=>i)}function o(){dn(e,s(),n),t()}if(!s()[0]){let i=globalThis.history.state;globalThis.history.replaceState([r.nestedRoots[0].getEntry(i[0].params),...i.slice(1)],"")}o(),ft.set(e,o)}function xr(e,t){t={url:globalThis.location.href.replace(/#.*$/,""),params:[],...t,views:e};let n={get:r=>{let s=X.get(r)||[];return s.slice(0,s.findIndex(o=>!S.get(o).dialog)+1).reverse()},connect:(r,s,o)=>{for(let i of t.params)if(!(i in r))throw Error(`Property '${i}' for global parameters is not defined in <${r.tagName.toLowerCase()}>`);return X.has(r)||X.set(r,[]),S.has(r)?vr(r,o,t):Er(r,o,t)},observe:cn&&((r,s,o)=>{let i=s.length-1,c=s[i];if(o&&c===o[i])return;let a=S.get(r),p=globalThis.history.state[0],u=0;for(;a;)u+=1,p=p.nested,a=a.nestedParent;console.groupCollapsed(`[${r.tagName.toLowerCase()}]: navigated to <${p.id}> ($$${u})`);for(let[l,f]of Object.entries(p.params))console.log(`%c${l}:`,"font-weight: bold",f);console.groupEnd(),__global$[`$$${u}`]=c})};return ln.set(n,t),n}var $r=Object.freeze(Object.assign(xr,{connect:it,debug:cr,url:hr,backUrl:mr,guardUrl:gr,currentUrl:br,resolve:wr,active:yr}));var Ee=new WeakMap;function M(e){let t=Ee.get(e);return t||(Ee.set(e,t={}),t)}function ee(e){let t;for(;e&&(t=M(e))&&t.endNode;)e=t.endNode;return e}function V(e){if(e.nodeType===globalThis.Node.TEXT_NODE){let t=Ee.get(e);if(t&&t.startNode){let n=ee(t.endNode),r=t.startNode,s=n.nextSibling;for(;r;){let o=r.nextSibling;r.parentNode.removeChild(r),r=o!==s&&o}Ee.set(e,{})}}else{let t=e.childNodes[0];for(;t;)e.removeChild(t),t=e.childNodes[0];Ee.set(e,{})}}var Sr=Date.now(),N=(e=0)=>`H-${Sr}-${e}`;var ht=!!(globalThis.document&&globalThis.document.adoptedStyleSheets),dt=/^\d+$/,Or={block:(e,t)=>({display:"block","text-align":t}),inline:({display:e})=>({display:`inline${e?`-${e}`:""}`}),contents:{display:"contents"},hidden:{display:"none"},...["row","row-reverse","column","column-reverse"].reduce((e,t)=>(e[t]=(n,r="nowrap")=>({display:"flex","flex-flow":`${t} ${r}`}),e),{}),grow:(e,t=1)=>({"flex-grow":t}),shrink:(e,t=1)=>({"flex-shrink":t}),basis:(e,t)=>({"flex-basis":v(t)}),order:(e,t=0)=>({order:t}),grid:(e,t="1",n="",r="",s="")=>({display:"grid",...["columns","rows"].reduce((o,i)=>{let c=i==="columns"?t:n;return o[`grid-template-${i}`]=c&&c.split("|").map(a=>a.match(dt)?`repeat(${a}, minmax(0, 1fr))`:v(a)).join(" "),o},{}),"grid-auto-flow":`${r} ${s&&"dense"}`}),area:(e,t="",n="")=>({"grid-column":t.match(dt)?`span ${t}`:t,"grid-row":n.match(dt)?`span ${n}`:n}),gap:(e,t=1,n="")=>({"column-gap":v(t),"row-gap":v(n||t)}),items:(e,t="start",n="")=>({"place-items":`${t} ${n}`}),content:(e,t="start",n="")=>({"place-content":`${t} ${n}`}),self:(e,t="start",n="")=>({"place-self":`${t} ${n}`}),center:{"place-items":"center","place-content":"center"},size:(e,t,n=t)=>({width:v(t),height:v(n),"box-sizing":"border-box"}),width:(e,t,n,r)=>({width:v(t),"min-width":v(n),"max-width":v(r),"box-sizing":"border-box"}),height:(e,t,n,r)=>({height:v(t),"min-height":v(n),"max-height":v(r),"box-sizing":"border-box"}),ratio:(e,t)=>({"aspect-ratio":t}),overflow:(e,t="hidden",n="")=>{let r=n?`-${t}`:"",s=n||t;return{[`overflow${r}`]:s,...s==="scroll"?{"flex-grow":e["flex-grow"]||1,"flex-basis":0,"overscroll-behavior":"contain","--webkit-overflow-scrolling":"touch"}:{}}},margin:(e,t="1",n,r,s)=>t.match(/top|bottom|left|right/)?{[`margin-${t}`]:v(n||"1")}:{margin:`${v(t)} ${v(n)} ${v(r)} ${v(s)}`},padding:(e,t="1",n,r,s)=>t.match(/top|bottom|left|right/)?{[`padding-${t}`]:v(n||"1")}:{padding:`${v(t)} ${v(n)} ${v(r)} ${v(s)}`},absolute:{position:"absolute"},relative:{position:"relative"},fixed:{position:"fixed"},sticky:{position:"sticky"},static:{position:"static"},inset:(e,t=0)=>{let n=v(t);return{top:n,right:n,bottom:n,left:n}},top:(e,t=0)=>({top:v(t)}),bottom:(e,t=0)=>({bottom:v(t)}),left:(e,t=0)=>({left:v(t)}),right:(e,t=0)=>({right:v(t)}),layer:(e,t=1)=>({"z-index":t}),"":(e,t,...n)=>{if(n.length<2)throw new Error("Generic rule '::' requires at least two arguments, eg.: ::[property]:[name]");return{[n[n.length-2]]:`var(--${n.join("-")})`}},view:(e,t)=>({"view-transition-name":t})},Nr={min:"min-content",max:"max-content",fit:"fit-content",full:"100%"},Pr={portrait:"orientation: portrait",landscape:"orientation: landscape"};function v(e){return e=Nr[e]||e,/^-?\d+(\.\d+)*$/.test(String(e))?`${e*8}px`:e||""}var te;function mn(){if(te)return te;if(ht)te=new globalThis.CSSStyleSheet;else{let e=globalThis.document.createElement("style");e.appendChild(globalThis.document.createTextNode("")),globalThis.document.head.appendChild(e),te=e.sheet}return te.insertRule(":host([hidden]) { display: none; }"),te}var pn=new WeakMap,pt=new WeakSet;function gn(e){let t=e.getRootNode();if(pt.has(t))return;let n=mn();if(ht)t.adoptedStyleSheets=[...t.adoptedStyleSheets,n];else{if(t===globalThis.document)return;let r=pn.get(t);r||(r=globalThis.document.createElement("style"),t.appendChild(r),pn.set(t,r));let s="";for(let o=0;o<n.cssRules.length;o++)s+=n.cssRules[o].cssText;r.textContent=s}pt.add(t)}var hn=new Map;function mt(e,t,n,r){let s=hn.get(e);s||(s=`l-${Math.random().toString(36).substr(2,5)}`,hn.set(e,s)),ht||(pt=new WeakSet);let o=mn(),[i,c=""]=t.split("@"),a=Object.entries(n.replace(/\s+/g," ").trim().split(" ").reduce((u,l)=>{let[f,...y]=l.split(":"),h=Or[f];if(!h)throw TypeError(`Unsupported layout rule: '${f}'`);return Object.assign(u,typeof h=="function"?h(u,...y.map(d=>d.match(/--.*/)?`var(${d})`:d)):h)},{})).reduce((u,[l,f])=>f!==void 0&&f!==""?u+`${l}: ${f};`:u,""),p=c.split(":").reduce((u,l)=>l===""?u:u+` and (${Pr[l]||`min-width: ${l}`})`,"@media screen");if(r){let u=`:host(.${s}-s${i})`,l=`:where(.${s}-c${i})`;[u,l].forEach(f=>{o.insertRule(c?`${p} { ${f} { ${a} } }`:`${f} { ${a} }`,o.cssRules.length-1)})}else{let u=`.${s}${i}`;o.insertRule(c?`${p} { ${u} { ${a} } }`:`${u} { ${a} }`,o.cssRules.length-1)}return s}var De=new WeakMap;function kr(e,t){let n=M(e),r=n.startNode,s=ee(n.endNode);t.parentNode.insertBefore(e,t.nextSibling);let o=e,i=r;for(;i;){let c=i.nextSibling;o.parentNode.insertBefore(i,o.nextSibling),o=i,i=c!==s.nextSibling&&c}}function gt(e,t,n,r,s){let o=De.get(t),i=n.map((u,l)=>({id:hasOwnProperty.call(u,"id")?u.id:l,value:u,placeholder:null,available:!0}));if(De.set(t,i),o){let u=new Set;for(let l of i)u.add(l.id);o=o.filter(l=>u.has(l.id)?!0:(V(l.placeholder),l.placeholder.parentNode.removeChild(l.placeholder),!1))}let c=t,a=n.length-1,p=M(t);for(let u=0;u<i.length;u+=1){let l=i[u],f;if(o){for(let y=0;y<o.length;y+=1)if(o[y].available&&o[y].id===l.id){f=o[y];break}}f?(f.available=!1,l.placeholder=f.placeholder,l.placeholder.previousSibling!==c&&kr(l.placeholder,c),f.value!==l.value&&r(e,l.placeholder,l.value,f.value,s)):(l.placeholder=globalThis.document.createTextNode(""),c.parentNode.insertBefore(l.placeholder,c.nextSibling),r(e,l.placeholder,l.value,void 0,s)),c=ee(M(l.placeholder,{}).endNode||l.placeholder),u===0&&(p.startNode=l.placeholder),u===a&&(p.endNode=c)}if(o)for(let u of o)u.available&&(V(u.placeholder),u.placeholder.parentNode.removeChild(u.placeholder))}function bt(e,t,n){V(t);let r=M(t);r.startNode=r.endNode=n,t.parentNode.insertBefore(n,t.nextSibling)}function bn(e){let t=typeof e;if(t==="object"){if(Array.isArray(e))return"array";if(e instanceof globalThis.Node)return"node"}return t}function J(e,t,n,r,s){let o=bn(n),i=bn(r);switch(i!=="undefined"&&o!==i&&(o!=="function"&&V(t),i==="array"?De.delete(t):i!=="node"&&i!=="function"&&(t.textContent="")),o){case"array":gt(e,t,n,J,s);break;case"node":bt(e,t,n);break;case"function":s&&(n.useLayout=!0),n(e,t);break;default:t.textContent=o==="number"||n?n:""}}var yt=new WeakMap;function wt(e){return(t,n,r,s)=>{if(s){let o=yt.get(n);n.removeEventListener(e,o.get(s),s.options!==void 0?s.options:!1)}if(r){if(typeof r!="function")throw Error(`Event listener must be a function: ${typeof r}`);let o=yt.get(n);o||(o=new WeakMap,yt.set(n,o));let i=r.bind(null,t);o.set(r,i),n.addEventListener(e,i,r.options!==void 0?r.options:!1)}}}function Lr(e,t=new Set){if(Array.isArray(e))for(let n of e)n&&t.add(n);else if(e!==null&&typeof e=="object")for(let[n,r]of Object.entries(e))n&&r&&t.add(n);else e&&t.add(e);return t}var yn=new WeakMap;function Tt(e,t,n){let r=yn.get(t)||new Set,s=Lr(n);yn.set(t,s);for(let o of s)t.classList.add(o),r.delete(o);for(let o of r)t.classList.remove(o)}var wn=new WeakMap;function Et(e,t,n){if(n===null||typeof n!="object")throw TypeError(`Style value must be an object in ${Y(t)}:`,n);let r=wn.get(t)||new Map,s=new Map;for(let o of Object.keys(n)){let i=W(o),c=n[o];!c&&c!==0?t.style.removeProperty(i):t.style.setProperty(i,c),s.set(i,c),r.delete(i)}for(let o of r.keys())t.style[o]="";wn.set(t,s)}function vt(e,t,n){if(t.substr(0,2)==="on"){let r=t.substr(2);return wt(r)}switch(e){case"class":return Tt;case"style":return Et;default:{let r=!1;return(s,o,i)=>{if(r=r||!n&&!(o instanceof globalThis.SVGElement)&&t in o,r)o[t]=i;else if(i===!1||i===void 0||i===null)o.removeAttribute(e);else{let c=i===!0?"":String(i);o.setAttribute(e,c)}}}}}var Sn=N("(\\d+)"),ve=new RegExp(`^${Sn}$`),ne=new RegExp(Sn,"g"),Cr=/^[^A-Za-z]+$/;function Ar(e){let t=e[0],n=!1;for(let r=1;r<e.length;r+=1)n=n||e[r-1].match(/<\s*(table|tr|thead|tbody|tfoot|colgroup)([^<>]|"[^"]*"|'[^']*')*>\s*$/),t+=(n?`<!--${N(r-1)}-->`:N(r-1))+e[r],n=n&&!e[r].match(/<\/\s*(table|tr|thead|tbody|tfoot|colgroup)\s*>/);return t}function Mr(e){return e.replace(/\s*=\s*['"]*$/g,"").split(/\s+/).pop()}function Tn(e){return globalThis.document.createTreeWalker(e,globalThis.NodeFilter.SHOW_ELEMENT|globalThis.NodeFilter.SHOW_TEXT|globalThis.NodeFilter.SHOW_COMMENT,null,!1)}function Rr(e,t=0){e=e.replace(/(^[\n\s\t ]+)|([\n\s\t ]+$)+/g,"");let n=e.indexOf(`
`);if(n>-1){let r=0-t-2;for(n+=1;e[n]===" "&&n<e.length;n+=1)r+=1;return e.replace(/\n +/g,s=>s.substr(0,Math.max(s.length-r,1)))}return e}function En(e,t){let n=N(t);return`${Rr(e).split(`
`).filter(s=>s).map(s=>{let o=s.indexOf(n);return o>-1?`| ${s}
--${"-".repeat(o)}${"^".repeat(6)}`:`| ${s}`}).join(`
`).replace(ne,"${...}")}`}var vn=new Map,xn=new WeakMap;function Wr(e,t){let n=xn.get(e);if(!n&&!t)return;let r=t&&t.map(o=>{let i=o;return i instanceof globalThis.CSSStyleSheet||(i=vn.get(o),i||(i=new globalThis.CSSStyleSheet,i.replaceSync(o),vn.set(o,i))),i}),s;if(n){if(r&&r.length===n.length&&r.every((o,i)=>o===n[i]))return;s=e.adoptedStyleSheets.filter(o=>!n.includes(o))}r&&(s=(s||e.adoptedStyleSheets).concat(r)),e.adoptedStyleSheets=s,xn.set(e,r)}var xt=new WeakMap;function On(e,t){let n=xt.get(e);if(t){(!n||n.parentNode!==e)&&(n=globalThis.document.createElement("style"),xt.set(e,n),e=ee(e),e.nodeType===globalThis.Node.TEXT_NODE?e.parentNode.insertBefore(n,e.nextSibling):e.appendChild(n));let r=[...t].join(`
/*------*/
`);n.textContent!==r&&(n.textContent=r)}else n&&(n.parentNode.removeChild(n),xt.set(e,null))}var $n=new WeakMap;function zr(e,t){let n=$n.get(e);n||(n=e.adoptedStyleSheets?Wr:On,$n.set(e,n)),n(e,t)}function Nn(e,t,n,r){let s=globalThis.document.createElement("template"),o={},i=n?e:Ar(e);if(s.innerHTML=t?`<svg>${i}</svg>`:i,t){let h=s.content.firstChild;s.content.removeChild(h);for(let d of Array.from(h.childNodes))s.content.appendChild(d)}let c,a=s.content.children[0];if(a instanceof globalThis.HTMLTemplateElement){for(let h of Array.from(a.attributes)){let d=h.value.trim();if(d&&h.name.startsWith("layout")){if(d.match(ne))throw Error("Layout attribute cannot contain expressions");c=mt(a,h.name.substr(6),d,!0)}}if(c!==void 0&&s.content.children.length>1)throw Error("Template, which uses layout system must have only the '<template>' root element");r=c||a.hasAttribute("layout"),s=a}let p=Tn(s.content),u=[],l=0,f=null;for(;p.nextNode();){let h=p.currentNode;if(f&&!f.contains(h)&&(f=null),h.nodeType===globalThis.Node.COMMENT_NODE&&ve.test(h.textContent)&&(h.parentNode.insertBefore(globalThis.document.createTextNode(h.textContent),h.nextSibling),p.nextNode(),h.parentNode.removeChild(h),h=p.currentNode),h.nodeType===globalThis.Node.TEXT_NODE){let d=h.textContent,b=d.match(ve);if(b)h.textContent="",o[b[1]]=[l,J];else{if(Pn()&&!n&&!f&&!d.match(/^\s*$/)){let T,m=d.trim(),w=m.replace(/\s+/g," ").replace(ne,(E,x)=>(x=Number(x),T===void 0&&(T=x),`\${${x-T}}`));if(!w.match(Cr)){let E=h.previousSibling&&h.previousSibling.nodeType===globalThis.Node.COMMENT_NODE?h.previousSibling:"";E&&(E.parentNode.removeChild(E),l-=1,E=(E.textContent.split("|")[1]||"").trim().replace(/\s+/g," "));let x=$t(w,E).replace(/\${(\d+)}/g,(H,R)=>N(Number(R)+T));d=d.replace(m,x),h.textContent=d}}let g=d.match(ne);if(g){let T=h;g.reduce((m,w)=>{let[E,x]=m.pop().split(w);return E&&m.push(E),m.push(w),x&&m.push(x),m},[d]).forEach((m,w)=>{w===0?T.textContent=m:(T=T.parentNode.insertBefore(globalThis.document.createTextNode(m),T.nextSibling),p.currentNode=T,l+=1);let E=T.textContent.match(ve);E&&(T.textContent="",o[E[1]]=[l,J])})}}}else if(h.nodeType===globalThis.Node.ELEMENT_NODE){if(!f&&(h.getAttribute("translate")==="no"||h.tagName.toLowerCase()==="script"||h.tagName.toLowerCase()==="style")&&(f=h),ce){let d=h.tagName.toLowerCase();d.match(/.+-.+/)&&!globalThis.customElements.get(d)&&!u.includes(d)&&u.push(d)}for(let d of Array.from(h.attributes)){let b=d.value.trim(),g=d.name;if(r&&g.startsWith("layout")&&b){if(b.match(ne))throw Error("Layout attribute cannot contain expressions");let m=mt(h,g.substr(6),b);h.removeAttribute(g),h.classList.add(m);continue}let T=b.match(ve);if(T){let m=Mr(e[T[1]]);o[T[1]]=[l,vt(g,m,t)],h.removeAttribute(d.name)}else{let m=b.match(ne);if(m){let w=`attr__${g}`;for(let[E,x]of m.entries()){let[,H]=x.match(ve),R=!1;o[H]=[l,(se,P,F)=>{let ie=M(P);ie[w]=(ie[w]||b).replace(x,F??""),(m.length===1||E+1===m.length)&&(R=R||!t&&!(P instanceof globalThis.SVGElement)&&g in P,R?P[g]=ie[w]:P.setAttribute(g,ie[w]),ie[w]=void 0)}]}d.value=""}}}}l+=1}ce&&u.length&&console.warn(`Not defined ${u.map(h=>`<${h}>`).join(", ")} element${u.length>1?"s":""} found in the template:
${En(i,-1)}`);let y=Object.keys(o);return function(d,b,g,{styleSheets:T}){let m=M(b);if(s!==m.template){let w=globalThis.document.importNode(s.content,!0),E=Tn(w),x=[],H=0,R=0,se=o[y[R]];for(;E.nextNode();){let P=E.currentNode;for(;se&&se[0]===H;)x.push({index:y[R],node:P,fn:se[1]}),R+=1,se=o[y[R]];H+=1}if(m.hostLayout&&d.classList.remove(m.hostLayout),V(b),m=M(b),m.template=s,m.markers=x,b.nodeType===globalThis.Node.TEXT_NODE){On(b),m.startNode=w.childNodes[0],m.endNode=w.childNodes[w.childNodes.length-1];let P=b,F=w.childNodes[0];for(;F;)b.parentNode.insertBefore(F,P.nextSibling),P=F,F=w.childNodes[0]}else{if(r){let P=`${c}-${d===b?"c":"s"}`;d.classList.add(P),m.hostLayout=P}b.appendChild(w)}r&&gn(b)}zr(b,T);for(let w of m.markers){let E=g[w.index],x=m.prevArgs&&m.prevArgs[w.index];if(!(m.prevArgs&&E===x))try{w.fn(d,w.node,E,x,r)}catch(H){throw console.error(`Error while updating template expression in ${Y(d)}:
${En(i,w.index)}`),H}}m.prevArgs=g}}var Pt={};Mt(Pt,{resolve:()=>Ot,set:()=>Nt,transition:()=>Ln});var St=new WeakMap;function Ot(e,t,n=200){return function r(s,o){let i=r.useLayout,c;t&&(c=setTimeout(()=>{c=void 0,J(s,o,t,void 0,i)},n)),St.set(o,e),e.then(a=>{c&&clearTimeout(c),St.get(o)===e&&(J(s,o,a,t&&!c?t:void 0,i),St.set(o,null))})}}function jn({target:e,detail:t},n){let r;switch(e.type){case"radio":case"checkbox":r=e.checked&&e.value;break;case"file":r=e.files;break;default:r=t&&hasOwnProperty.call(t,"value")?t.value:e.value}n(r)}function Dr(e,t){return e.split(".").reverse().reduce((n,r)=>n?{[r]:n}:{[r]:t},null)}var kn=new Map;function Nt(e,t){if(!e)throw Error(`The first argument must be a property name or an object instance: ${e}`);if(typeof e=="object"){if(t===void 0)throw Error("For model instance property the second argument must be defined");let r=le.get(e);if(!r)throw Error("Provided object must be a model instance of the store");return t===null?()=>{r.set(e,null)}:(s,o)=>{jn(o,i=>{r.set(e,Dr(t,i))})}}if(arguments.length===2)return r=>{r[e]=t};let n=kn.get(e);return n||(n=(r,s)=>{jn(s,o=>{r[e]=o})},kn.set(e,n)),n}var Ie,Ln=globalThis.document&&globalThis.document.startViewTransition!==void 0&&function(t){return function n(r,s){if(Ie){console.warn(`${Y(r)}: view transition already started in ${Y(Ie)}`),t(r,s);return}t.useLayout=n.useLayout,Ie=r,globalThis.document.startViewTransition(()=>(t(r,s),z.then(()=>{Ie=void 0})))}}||(e=>e);var jt={};Mt(jt,{css:()=>Ur,key:()=>Ir,style:()=>_r,use:()=>Kr});function Ir(e){return this.id=e,this}function _r(...e){return this.styleSheets=this.styleSheets||[],this.styleSheets.push(...e),this}function Ur(e,...t){this.styleSheets=this.styleSheets||[];let n=e[0];for(let r=1;r<e.length;r++)n+=(t[r-1]!==void 0?t[r-1]:"")+e[r];return this.styleSheets.push(n),this}function Kr(e){return this.plugins=this.plugins||[],this.plugins.push(e),this}var Vr=N(),Br=N("svg"),Gr=N("msg"),Xr=N("layout"),Cn=new Map;function xe(e,t,n,r){function s(o,i=o){let c=r?e+Gr:e.join(Vr);n&&(c+=Br);let a=s.useLayout;a&&(c+=Xr);let p=Cn.get(c);p||(p=Nn(e,n,r,a),Cn.set(c,p)),s.plugins?s.plugins.reduce((u,l)=>l(u),()=>p(o,i,t,s))(o,i):p(o,i,t,s)}return Object.assign(s,jt)}function An(e,...t){return xe(e,t,!1,!1)}function Jr(e,...t){return xe(e,t,!0,!1)}Object.freeze(Object.assign(An,Pt));var re=new Map,Mn=new Map,oe=null,kt=(()=>{let e;try{e=globalThis.navigator.languages||[globalThis.navigator.language]}catch{e=[]}return e.reduce((t,n)=>{let r=n.split("-")[0];return t.add(n),n!==r&&t.add(r),t},new Set)})();function Pn(){return oe!==null||re.size}var Rn=new Map;function $t(e,t,n=[]){e=e.trim().replace(/\s+/g," "),t=t.trim();let r=`${e} | ${t}`,s=Mn.get(r);if(!s){if(re.size)for(let o of kt){let i=re.get(o);if(i&&(s=i[r]||i[e],s)){if(s=s.message,typeof s=="object"){let c=Rn.get(o);c||(c=new Intl.PluralRules(o),Rn.set(o,c));let a=s;s=p=>p===0&&a.zero||a[c.select(p)]||a.other||""}break}}s||(oe&&(s=oe(e,t)),s||(s=e,(re.size||oe)&&ce&&console.warn(`Missing translation: "${e}"${t?` [${t}]`:""}`))),Mn.set(r,s)}return typeof s=="function"?s(n[0]):s}function Hr(e){return e.replace("$","@").replace(/[^a-zA-Z0-9_@]/g,"_").toLowerCase()}function Wn(e,t){switch(typeof e){case"function":{if((t||{}).format==="chrome.i18n"){let r=new Map;oe=(s,o)=>{s=o?`${s} | ${o}`:s;let i=r.get(s);return i||(i=Hr(s),r.set(s,i)),e(i,o)}}else oe=e;break}case"string":{if(!t||typeof t!="object")throw TypeError("Messages must be an object");e==="default"&&kt.add("default");let n=re.get(e)||{};re.set(e,{...n,...t});break}default:throw TypeError("The first argument must be a string or a function")}}Object.defineProperty(Wn,"languages",{get:()=>Array.from(kt)});function Lt(e,t){let n="";for(let[o,i]of e.entries())n+=o?`\${${o-1}}${i}`:i;let[r,,s=""]=n.split("|");return $t(r,s,t)}var Ct=/\$\{(\d+)\}/g;function At(e,...t){return Lt(e,t).replace(Ct,(n,r)=>t[r])}At.html=function(t,...n){let r=Lt(t,n);return xe(r.replace(Ct,(s,o)=>N(o)),n,!1,!0)};At.svg=function(t,...n){let r=Lt(t,n);return xe(r.replace(Ct,(s,o)=>N(o)),n,!0,!0)};export{Gt as children,Ge as define,_e as dispatch,An as html,Wn as localize,Vt as mount,At as msg,Bt as parent,$r as router,lr as store,Jr as svg};
//# sourceMappingURL=hybrids.mjs.map